{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{readDeck}from\"../../utils/api/index.js\";import UnderThreeCards from\"./UnderThreeCards.js\";import Breadcrumb from\"./Breadcrumb.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Study(){const history=useHistory();const{id}=useParams();const[deck,setDeck]=useState();const[currentCard,setCurrentCard]=useState(0);const[message,setMessage]=useState();const[cardIsFlipped,setCardIsFlipped]=useState(false);useEffect(()=>{async function getAPIData(){const getData=await readDeck(id);setDeck(getData);}getAPIData();},[id]);if(!deck)return/*#__PURE__*/_jsx(\"p\",{children:\"loading...\"});if(deck.cards.length<3){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Breadcrumb,{deck:deck}),/*#__PURE__*/_jsx(UnderThreeCards,{deck:deck})]});}const{cards}=deck;let card=cards[currentCard];const{front}=card;const{back}=card;function checkIfFinalCard(){if(cardIsFlipped&&currentCard===cards.length-1){setTimeout(()=>{if(window.confirm(\"Restart Cards? Click `cancel`to return to the home page\")){setCurrentCard(0);setMessage();}else{history.push(\"/\");}},1000);}}if(!message)setMessage(front);function flipCard(){if(message===front)setMessage(back);else setMessage(front);setCardIsFlipped(!cardIsFlipped);checkIfFinalCard();}function nextCard(){setCurrentCard(currentCard+1);setCardIsFlipped(false);setMessage();}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Breadcrumb,{deck:deck}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Study: \",deck.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[\"Card \",currentCard+1,\" of \",cards.length]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:flipCard,className:\"btn btn-secondary\",children:\"Flip\"}),currentCard+1!==cards.length&&message===back&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>nextCard(),className:\"btn btn-primary\",children:\"Next\"})]})]})})]});}export default Study;","map":{"version":3,"names":["React","useEffect","useState","useParams","useHistory","readDeck","UnderThreeCards","Breadcrumb","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Study","history","id","deck","setDeck","currentCard","setCurrentCard","message","setMessage","cardIsFlipped","setCardIsFlipped","getAPIData","getData","children","cards","length","card","front","back","checkIfFinalCard","setTimeout","window","confirm","push","flipCard","nextCard","name","className","onClick"],"sources":["C:/Users/setha/Thinkful/Qualified/Flashcards/src/Layout/StudyRoute/Study.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useParams, useHistory } from \"react-router-dom\"\r\nimport { readDeck } from \"../../utils/api/index.js\"\r\nimport UnderThreeCards from \"./UnderThreeCards.js\"\r\nimport Breadcrumb from \"./Breadcrumb.js\"\r\n\r\nfunction Study () {\r\n\r\n    const history = useHistory()\r\n\r\n    const { id } = useParams();\r\n\r\n    const [ deck, setDeck ] = useState()\r\n\r\n    const [currentCard, setCurrentCard] = useState(0);\r\n    \r\n    const [message, setMessage] = useState();\r\n\r\n    const [cardIsFlipped, setCardIsFlipped] = useState(false)\r\n\r\n    useEffect(() => {\r\n        async function getAPIData () {\r\n            const getData = await readDeck(id);\r\n            setDeck(getData);\r\n        }\r\n        getAPIData();\r\n    }, [id])\r\n\r\n    \r\n\r\n    if (!deck) return <p>loading...</p>;\r\n\r\n    if (deck.cards.length < 3) {\r\n            return (\r\n                <div>\r\n                    <Breadcrumb deck={ deck }/>\r\n                    <UnderThreeCards deck={ deck }/>\r\n                </div>\r\n        )\r\n    }\r\n\r\n    const { cards } = deck;\r\n    let card = cards[currentCard];\r\n    const { front } = card;\r\n    const { back } = card;\r\n\r\n    function checkIfFinalCard () {\r\n            if(cardIsFlipped  && currentCard === (cards.length - 1)) {\r\n                setTimeout(() => {\r\n                    if(window.confirm(\"Restart Cards? Click `cancel`to return to the home page\")) {\r\n                        setCurrentCard(0);\r\n                        setMessage();\r\n                    }else {\r\n                        history.push(\"/\")\r\n                    }\r\n                }, 1000)\r\n            }\r\n    }\r\n\r\n    if(!message) setMessage(front)\r\n\r\n    function flipCard () {\r\n        if (message === front) setMessage(back)\r\n        else setMessage(front)\r\n        setCardIsFlipped(!cardIsFlipped)\r\n        checkIfFinalCard()\r\n    }\r\n\r\n    function nextCard () {\r\n        setCurrentCard(currentCard + 1)\r\n        setCardIsFlipped(false)\r\n        setMessage()\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        <Breadcrumb deck={ deck } />\r\n        <h1>Study: {deck.name}</h1>\r\n\r\n        <div className=\"card\">\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Card {currentCard + 1} of {cards.length}</h5>\r\n                <p className=\"card-text\">{message}</p>\r\n                <div className=\"d-flex\">\r\n                    <button onClick={flipCard} className=\"btn btn-secondary\">Flip</button>\r\n                    {(currentCard + 1 !== cards.length && message === back) && <button onClick={() => nextCard()} className=\"btn btn-primary\">Next</button>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Study"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}