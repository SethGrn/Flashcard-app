{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useHistory,useParams}from\"react-router-dom\";import{readDeck,updateDeck}from\"../utils/api/index.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditDeck(){const{id}=useParams();const history=useHistory();const[deck,setDeck]=useState();const[formData,setFormData]=useState();useEffect(()=>{const getAPIData=async()=>{const getData=await readDeck(id);const initialFormData={id:id,name:getData.name,description:getData.description};console.log(initialFormData);setFormData(initialFormData);setDeck(getData);};getAPIData();},[id]);if(!deck)return/*#__PURE__*/_jsx(\"p\",{children:\"loading\"});const changeHandler=_ref=>{let{target}=_ref;setFormData({...formData,[target.name]:target.value});};const submitHandler=async event=>{event.preventDefault();updateDeck(formData);history.push(\"/\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(id),children:deck.name})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Create Deck\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",placeholder:\"Deck Name\",required:true,value:formData.name,onChange:changeHandler}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"description\",id:\"description\",placeholder:\"Add a Deck Description\",rows:\"5\",cols:\"60\",required:true,value:formData.description,onChange:changeHandler}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>history.push(\"/\"),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});}export default EditDeck;","map":{"version":3,"names":["React","useState","useEffect","Link","useHistory","useParams","readDeck","updateDeck","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditDeck","id","history","deck","setDeck","formData","setFormData","getAPIData","getData","initialFormData","name","description","console","log","children","changeHandler","_ref","target","value","submitHandler","event","preventDefault","push","className","to","concat","onSubmit","type","placeholder","required","onChange","rows","cols","onClick"],"sources":["C:/Users/setha/Thinkful/Qualified/Flashcards/src/Layout/EditDeck.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport { Link, useHistory, useParams } from \"react-router-dom\"\r\nimport { readDeck, updateDeck } from \"../utils/api/index.js\"\r\n\r\nfunction EditDeck() {\r\n\r\n    const { id } = useParams();\r\n\r\n    const history = useHistory();\r\n\r\n    const [deck, setDeck] = useState()\r\n\r\n    const [formData, setFormData] = useState();\r\n    \r\n    useEffect(() => {\r\n        const getAPIData = async () => {\r\n            const getData = await readDeck(id);\r\n            const initialFormData = {\r\n                id: id,\r\n                name: getData.name,\r\n                description: getData.description\r\n            }\r\n            console.log(initialFormData)\r\n            setFormData(initialFormData)\r\n            setDeck(getData);\r\n        }\r\n        getAPIData();\r\n    }, [id])\r\n    \r\n    if (!deck) return <p>loading</p>\r\n    \r\n    const changeHandler = ({ target }) => {\r\n        setFormData({\r\n            ...formData,\r\n            [target.name]: target.value\r\n        })\r\n    }\r\n    \r\n    const submitHandler = async (event) => {\r\n        event.preventDefault()\r\n        updateDeck(formData)\r\n        history.push(\"/\")\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb\">\r\n                    <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n                    <li className=\"breadcrumb-item\"><Link to={`/decks/${id}`}>{ deck.name }</Link></li>\r\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">Edit</li>\r\n                </ol>\r\n            </nav>\r\n            <h3>Create Deck</h3>\r\n            <form onSubmit={submitHandler}>\r\n                <p>Name</p>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    id=\"name\"\r\n                    placeholder=\"Deck Name\"\r\n                    required\r\n                    value={formData.name}\r\n                    onChange={changeHandler}\r\n                />\r\n                <hr/>\r\n                <p>Description</p>\r\n                <textarea\r\n                    type=\"text\"\r\n                    name=\"description\"\r\n                    id=\"description\"\r\n                    placeholder=\"Add a Deck Description\"\r\n                    rows=\"5\" cols=\"60\"\r\n                    required\r\n                    value={formData.description}\r\n                    onChange={changeHandler}\r\n                />\r\n                <hr/>\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => history.push(\"/\")}>Cancel</button>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n            </form>\r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nexport default EditDeck;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}