{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useRouteMatch,useParams,Link,useHistory}from\"react-router-dom\";import{readDeck,deleteDeck,deleteCard}from\"../utils/api/index.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Deck(){const params=useParams();const history=useHistory();const{url}=useRouteMatch();const[deck,setDeck]=useState([]);const[deletedCard,setDeletedCard]=useState([]);useEffect(()=>{async function getAPIData(){const getData=await readDeck(params.id);setDeck(getData);}getAPIData();},[deletedCard]);async function deleteHandler(){await deleteDeck(deck.id);history.push(\"/\");}async function cardDeleteHandler(idToDelete){await deleteCard(idToDelete);setDeck([]);setDeletedCard(!deletedCard);}if(deck.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"test...\"});else{const cardList=deck.cards.map(card=>{return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text ms-auto\",children:card.front}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text ms-auto\",children:card.back}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/decks/\".concat(deck.id,\"/cards/\").concat(card.id,\"/edit\"),className:\"btn btn-secondary\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{cardDeleteHandler(card.id);},className:\"btn btn-primary bg-danger\",children:\"Delete\"})})]})]})});});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:deck.name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:deck.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:deck.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/decks/\".concat(deck.id,\"/edit\"),className:\"btn btn-secondary\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/decks/\".concat(deck.id,\"/study\"),className:\"btn btn-primary\",children:\"Study\"}),/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(url,\"/cards/new\"),className:\"btn btn-primary\",children:\"+ Add Cards\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{deleteHandler();},className:\"btn btn-primary bg-danger\",children:\"Delete\"})})]})]})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Cards\"}),cardList]});}}export default Deck;","map":{"version":3,"names":["React","useEffect","useState","useRouteMatch","useParams","Link","useHistory","readDeck","deleteDeck","deleteCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Deck","params","history","url","deck","setDeck","deletedCard","setDeletedCard","getAPIData","getData","id","deleteHandler","push","cardDeleteHandler","idToDelete","length","children","cardList","cards","map","card","className","front","back","href","concat","onClick","to","name","description"],"sources":["C:/Users/setha/Thinkful/Qualified/Flashcards/src/Layout/Deck.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useRouteMatch, useParams, Link, useHistory } from \"react-router-dom\"\r\nimport { readDeck, deleteDeck, deleteCard } from \"../utils/api/index.js\"\r\n\r\nfunction Deck () {\r\n    const params = useParams();\r\n    const history = useHistory();\r\n    const { url } = useRouteMatch();\r\n\r\n\r\n    const [deck, setDeck] = useState([]);\r\n\r\n    const [deletedCard, setDeletedCard ] = useState([])\r\n\r\n    useEffect(() => {\r\n        async function getAPIData () {\r\n            const getData = await readDeck(params.id);\r\n            setDeck(getData);\r\n        }\r\n        getAPIData();\r\n    }, [deletedCard])\r\n\r\n    async function deleteHandler() {\r\n        await deleteDeck(deck.id)\r\n        history.push(\"/\")\r\n    }\r\n\r\n    async function cardDeleteHandler(idToDelete) {\r\n        await deleteCard(idToDelete)\r\n        setDeck([]);\r\n        setDeletedCard(!deletedCard)\r\n    }\r\n    \r\n    if (deck.length === 0) return <p>test...</p>\r\n        else {\r\n            const cardList = deck.cards.map((card) => {\r\n                return (\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <p className=\"card-text ms-auto\">{ card.front }</p>\r\n                            <p className=\"card-text ms-auto\">{ card.back }</p>\r\n                            <div className=\"d-flex\">\r\n                            <a href={`/decks/${deck.id}/cards/${card.id}/edit`} className=\"btn btn-secondary\">Edit</a>\r\n                            <div className=\"ml-auto\">\r\n                                <button onClick={() => {cardDeleteHandler(card.id)}} className=\"btn btn-primary bg-danger\">Delete</button>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n            \r\n            return (\r\n                <>\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb\">\r\n                            <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n                            <li className=\"breadcrumb-item active\" aria-current=\"page\">{deck.name}</li>\r\n                        </ol>\r\n                    </nav>\r\n\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">{deck.name}</h5>\r\n                            <p className=\"card-text\">{deck.description}</p>\r\n                            <div className=\"d-flex\">\r\n                            <a href={`/decks/${deck.id}/edit`} className=\"btn btn-secondary\">Edit</a>\r\n                            <a href={`/decks/${deck.id}/study`} className=\"btn btn-primary\">Study</a>\r\n                            <a href={`${url}/cards/new`} className=\"btn btn-primary\">+ Add Cards</a>\r\n                            <div className=\"ml-auto\">\r\n                                <button onClick={() => {deleteHandler()}} className=\"btn btn-primary bg-danger\">Delete</button>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <h2>Cards</h2>\r\n                    { cardList }\r\n                </>\r\n                \r\n            )\r\n        }\r\n    \r\n}\r\n\r\nexport default Deck"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}